<!-- Banner -->
<div class="bg-gray-400 w-full">
  <div
    v-if="banners.length > 0"
    class="relative max-w-7xl m-auto overflow-hidden relative"
  >
    <div class="aspect-w-5 aspect-h-2 w-full overflow-hidden">
      <div
        v-for="(banner, i) in banners"
        :key="'slide' + i"
        @click="bannerClick(banner)"
        class="absolute bg-cover bg-top inset-0 w-full h-full transition-all ease-in-out duration-1000 transform slide object-contain"
        :class="{ ['translate-x-0']: i === 0, ['translate-x-full']: i > 0 }"
        :style="{ backgroundImage: 'url('+banner.src+')' }"
      ></div>
    </div>
    <div
      class="absolute bottom-0 right-0 bg-white bg-opacity-50 w-16 h-16 flex items-center justify-center text-black cursor-pointer"
      @click="nextSlide"
    >
      &#x276F;
    </div>
    <div
      class="absolute bottom-0 left-0 bg-white bg-opacity-50 w-16 h-16 flex items-center justify-center text-black cursor-pointer"
      @click="previousSlide"
    >
      &#x276E;
    </div>
  </div>
</div>

<!-- Calendar lookahead -->
<div class="bg-gray-200">
  <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-4 pb-2">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-7 gap-2">
      <div v-for="(dayAndEvent, i) in sevenDaysAhead" :key="'calendar' + i">
        <div class="px-1 text-sm text-gray-500 font-semibold tracking-wide">
          {{ dayAndEvent.day }}
        </div>
        <div
          v-for="(event, idx) in dayAndEvent.events"
          :key="event.id"
          class="my-2 bg-gray-100 text-blue-600 hover:text-blue-800 cursor-pointer"
        >
          <div
            v-if="idx < 2"
            @click="$router.push({ name: 'Event', params: { eventId: event.id } })"
            class="p-2"
          >
            <div
              class="line-clamp-2 break-words md:text-sm lg:text-base leading-5 md:leading-4 lg:leading-5"
            >
              {{ event.name }}
            </div>
            <div class="text-gray-600 text-sm md:text-xs lg:text-sm pt-0.5">
              {{ event.time }}
            </div>
          </div>
          <div
            v-if="idx === 2"
            @click="$router.push({ name: 'Events' })"
            class="text-gray-400 font-light p-2"
          >
            ...
          </div>
        </div>
        <div
          v-if="dayAndEvent.events.length === 0"
          class="md:invisible px-2 py-1 text-gray-400 font-light"
        >
          -
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Call to action -->
<div
  class="relative overflow-hidden my-8 mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"
>
  <div
    class="relative z-10 py-8 bg-white sm:py-16 md:py-20 lg:max-w-2xl lg:w-full lg:py-28 xl:py-32"
  >
    <svg
      class="hidden lg:block absolute right-0 inset-y-0 h-full w-48 text-white transform translate-x-1/2"
      fill="currentColor"
      viewBox="0 0 100 100"
      preserveAspectRatio="none"
      aria-hidden="true"
    >
      <polygon points="50,0 100,0 50,100 0,100" />
    </svg>
    <main class="">
      <div class="sm:text-center lg:text-left">
        <h1
          class="text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl md:text-5xl"
        >
          <span class="block l:inline">Become a Phits Tech</span>
          <span class="block text-blue-400 l:inline">Community Hero</span>
        </h1>
        <p
          class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0"
        >
          Phits Tech aims to bring together the tech community in or around
          Phitsanulok to share, learn, grow and have fun together. If you are
          organising a meetup, talk, hackathon, or any other type of tech event
          that the community might be interested in then please let us know. Or
          if you have an idea for an event but need help organising then we also
          welcome your submissions.
        </p>
        <div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start">
          <div class="rounded-md shadow">
            <a
              href="/events/create"
              class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10"
            >
              Host an event
            </a>
          </div>
        </div>
      </div>
    </main>
  </div>
  <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2 my-8">
    <img
      class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full"
      src="https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2850&q=80"
      alt=""
    />
  </div>
</div>
