<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6">
  <div v-if="user" class="sm:flex p-4">
    <!-- Contact -->
    <!-- URGENT: For `sm`, put contact panel top; photo left & details right -->
    <div class="flex-none sm:mr-8 md:mr-10 lg:mr-12 sm:w-48 md:w-60 lg:w-72">
      <div
        class="rounded-md overflow-hidden shadow-lg pb-1 ring-1 ring-gray-50"
      >
        <div
          class="aspect-h-1 aspect-w-1 bg-cover"
          :style="{ backgroundImage: 'url(' + user.pic + ')' }"
        />
        <div class="px-4 py-4">
          <h1 class="text-3xl font-medium text-brand-black">{{ user.name }}</h1>
          <h2 class="text-lg italic text-gray-400 font-light leading-tight">
            {{ user.slug }}
          </h2>
          <p class="pt-4">
            <!-- URGENT: Refactor social profiles (maybe a Map?) -->
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="GitHub profile"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"
                />
              </svg>
            </a>
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="GitLab profile"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M21.94 13.11L20.89 9.89C20.89 9.86 20.88 9.83 20.87 9.8L18.76 3.32C18.65 3 18.33 2.75 17.96 2.75C17.6 2.75 17.28 3 17.17 3.33L15.17 9.5H8.84L6.83 3.33C6.72 3 6.4 2.75 6.04 2.75H6.04C5.67 2.75 5.35 3 5.24 3.33L3.13 9.82C3.13 9.82 3.13 9.83 3.13 9.83L2.06 13.11C1.9 13.61 2.07 14.15 2.5 14.45L11.72 21.16C11.89 21.28 12.11 21.28 12.28 21.15L21.5 14.45C21.93 14.15 22.1 13.61 21.94 13.11M8.15 10.45L10.72 18.36L4.55 10.45M13.28 18.37L15.75 10.78L15.85 10.45H19.46L13.87 17.61M17.97 3.94L19.78 9.5H16.16M14.86 10.45L13.07 15.96L12 19.24L9.14 10.45M6.03 3.94L7.84 9.5H4.23M3.05 13.69C2.96 13.62 2.92 13.5 2.96 13.4L3.75 10.97L9.57 18.42M20.95 13.69L14.44 18.42L14.46 18.39L20.25 10.97L21.04 13.4C21.08 13.5 21.04 13.62 20.95 13.69"
                />
              </svg>
            </a>
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="StackOverflow profile"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M17.36,20.2V14.82H19.15V22H3V14.82H4.8V20.2H17.36M6.77,14.32L7.14,12.56L15.93,14.41L15.56,16.17L6.77,14.32M7.93,10.11L8.69,8.5L16.83,12.28L16.07,13.9L7.93,10.11M10.19,6.12L11.34,4.74L18.24,10.5L17.09,11.87L10.19,6.12M14.64,1.87L20,9.08L18.56,10.15L13.2,2.94L14.64,1.87M6.59,18.41V16.61H15.57V18.41H6.59Z"
                />
              </svg>
            </a>
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="Twitter profile"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"
                />
              </svg>
            </a>
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="Facebook profile"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"
                />
              </svg>
            </a>
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="LINE profile"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="70 60 230 230"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  fill="currentColor"
                  d="M108.103 208.954h27.952c3.976 0 7.228-3.253 7.228-7.229v-.603c0-3.976-3.252-7.228-7.228-7.228h-20.121v-45.779c0-3.976-3.252-7.228-7.228-7.228h-.603c-3.976 0-7.228 3.252-7.228 7.228v53.609c0 3.977 3.252 7.23 7.228 7.23zm173.205-33.603v-.603c0-3.976-3.253-7.228-7.229-7.228h-20.12v-11.445h20.12c3.976 0 7.229-3.252 7.229-7.228v-.603c0-3.976-3.253-7.228-7.229-7.228h-27.952c-3.976 0-7.228 3.252-7.228 7.228v53.609c0 3.976 3.252 7.229 7.228 7.229h27.952c3.976 0 7.229-3.253 7.229-7.229v-.603c0-3.976-3.253-7.228-7.229-7.228h-20.12v-11.445h20.12c3.976.002 7.229-3.251 7.229-7.226zm-53.755 31.448l.002-.003a7.207 7.207 0 0 0 2.09-5.07v-53.609c0-3.976-3.252-7.228-7.229-7.228h-.603c-3.976 0-7.228 3.252-7.228 7.228v31.469l-26.126-35.042c-1.248-2.179-3.598-3.655-6.276-3.655h-.603c-3.976 0-7.229 3.252-7.229 7.228v53.609c0 3.976 3.252 7.229 7.229 7.229h.603c3.976 0 7.228-3.253 7.228-7.229v-32.058l26.314 35.941c.162.252.339.494.53.724l.001.002c.723.986 1.712 1.662 2.814 2.075.847.35 1.773.544 2.742.544h.603a7.162 7.162 0 0 0 3.377-.844c.723-.344 1.332-.788 1.761-1.311zm-71.208 2.155h.603c3.976 0 7.228-3.253 7.228-7.229v-53.609c0-3.976-3.252-7.228-7.228-7.228h-.603c-3.976 0-7.229 3.252-7.229 7.228v53.609c0 3.976 3.253 7.229 7.229 7.229z"
                />
              </svg>
            </a>
            <a href="/example" class="mr-1 hover:text-brand-blue-800">
              <svg
                class="inline w-6 h-6 sm:w-5 sm:h-5 md:w-6 md:h-6"
                alt="Send email"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"
                />
              </svg>
            </a>
          </p>
        </div>
      </div>
    </div>

    <!-- Profile -->
    <div class="mt-8 sm:mt-0 sm:flex-auto">
      <h2 class="text-2xl italic">{{ user.tagline }}</h2>
      <p class="text-lg mt-4">{{ user.bio }}</p>
      <p class="mt-4">
        <span
          v-for="skill in user.skills.sort()"
          class="inline-block bg-gray-100 text-brand-black rounded-md ring-1 ring-gray-200 px-1.5 py-1 text-xs font-light mr-2 mb-2"
        >
          {{ skill }}
        </span>
      </p>
      <div class="flex items-center mt-8">
        <h3 class="flex-grow text-xl">
          <span class="sm:hidden md:inline">Community </span>Contribution
        </h3>
        <p class="flex-none text-right text-sm font-light text-brand-black-900">
          {{ ccusFromContribution + ccusFromAttendance }}
          <span class="has-tooltip border-b-2 border-gray-300 border-dotted"
            ><span
              class="tooltip text-center w-36 rounded shadow-lg py-2 bg-gray-50 text-brand-black-500 italic transform -translate-x-1/2 mt-7 ml-4"
              >Community Contribution Units</span
            >CCU</span
          >
          Â· {{ user.lccus }}
          <span class="has-tooltip border-b-2 border-gray-200 border-dotted"
            ><span
              class="tooltip text-center w-20 rounded shadow-lg py-1 bg-gray-50 text-brand-black-500 italic transform -translate-x-1/2 mt-7 ml-5"
              >Lifetime CCUs</span
            >LCCU</span
          >
        </p>
      </div>

      <!-- Contribution CCUs (listed) -->
      <router-link
        v-for="contribution in eventsContributionAll"
        :key="contribution.slug"
        :to="{ name: 'Event', params: { slug: contribution.slug }}"
        class="flex items-center bg-gray-100 space-x-4 lg:space-x-5 mt-3"
      >
        <div class="flex-none">
          <div
            class="w-28 sm:w-24 md:w-32 lg:w-32 aspect-w-16 aspect-h-9 bg-cover bg-top"
            :style="false 
            ? { backgroundImage: 'url(' + contribution.banner169Url + ')' } 
            : { backgroundImage: 'url(/images/banner_16_9_default.jpg)'}"
          />
        </div>
        <div class="flex-grow">
          <p
            class="line-clamp-1 sm:text-sm md:text-base lg:text-lg xl:text-xl font-light"
          >
            {{ contribution.name }}
          </p>
          <p class="text-xs xl:text-sm text-gray-400 font-light italic">
            <!-- URGENT: Write a filter to convert the date direct from Timestamp -->
            {{ contribution.role }} - {{ contribution.date.seconds }}
          </p>
        </div>
        <div class="flex-none pr-4 lg:pr-5">
          <p
            class="text-xl font-extralight"
            :class="{ 'text-brand-black-100': contribution.date.seconds < ccuCutoffSeconds }"
          >
            {{ contribution.ccus }}
          </p>
        </div>
      </router-link>

      <!-- Attendance CCUs (aggregated) -->
      <div
        v-if="eventsAttendanceCcu.length > 0"
        class="flex items-center bg-gray-100 space-x-4 mt-3"
      >
        <div class="flex-none">
          <div
            class="w-28 sm:w-24 md:w-28 lg:w-32 xl:w-36 aspect-w-16 aspect-h-9 bg-cover bg-top"
            :style="false 
            ? { backgroundImage: 'url(' + 'potato' + ')' } 
            : { backgroundImage: 'url(/images/banner_16_9_default.jpg)'}"
          />
        </div>
        <div class="flex-grow">
          <p class="line-clamp-1 sm:text-sm md:text-base lg:text-lg font-light">
            Attendee x {{ eventsAttendanceCcu.length }} ({{ ccusFromAttendance
            }} hours)
          </p>
        </div>
        <div class="flex-none pr-4">
          <p class="text-xl font-extralight">{{ ccusFromAttendance }}</p>
        </div>
      </div>

      <h3 v-if="user.events.length > 0" class="flex-grow text-xl mt-8">
        Events Attended ({{ user.events.length }})
      </h3>
      <div
        class="grid grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-3 mt-3"
      >
        <router-link
          v-for="event in user.events"
          :key="event.slug"
          :to="{ name: 'Event', params: { slug: event.slug }}"
        >
          <div
            class="aspect-w-16 aspect-h-9 bg-cover bg-top"
            :style="false 
              ? { backgroundImage: 'url(' + event.banner169Url + ')' } 
              : { backgroundImage: 'url(/images/banner_16_9_default.jpg)'}"
          />
        </router-link>
      </div>
    </div>
  </div>
</div>
