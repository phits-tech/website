<!-- Banner -->
<div class="bg-gray-400 w-full">
  <div
    v-if="banners.length > 0"
    class="relative max-w-7xl m-auto overflow-hidden relative"
  >
    <div class="aspect-w-5 aspect-h-2 w-full overflow-hidden">
      <div
        v-for="(banner, i) in banners"
        :key="'slide' + i"
        @click="bannerClick(banner)"
        class="absolute bg-cover bg-top inset-0 w-full h-full transition-all ease-in-out duration-1000 transform slide object-contain"
        :class="{ ['translate-x-0']: i === 0, ['translate-x-full']: i > 0 }"
        :style="{ backgroundImage: 'url('+banner.src+')' }"
      ></div>
    </div>
    <div
      class="absolute bottom-0 left-0 rounded-tr-md sm:rounded-tr-xl lg:rounded-tr-3xl bg-black bg-opacity-30 pr-1 w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 text-lg sm:text-xl md:text-2xl lg:text-4xl flex items-center justify-center text-white cursor-pointer"
      @click="previousSlide"
    >
      &#x276E;
    </div>
    <div
      class="absolute bottom-0 right-0 rounded-tl-md sm:rounded-tl-xl lg:rounded-tl-3xl bg-black bg-opacity-30 pl-1 w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 text-lg sm:text-xl md:text-2xl lg:text-4xl flex items-center justify-center text-white cursor-pointer"
      @click="nextSlide"
    >
      &#x276F;
    </div>
  </div>
</div>

<!-- Calendar lookahead -->
<div class="bg-gray-200">
  <div class="max-w-7xl mx-auto px-3 pt-3 pb-1.5">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-7 gap-x-4 px-2">
      <div v-for="(dayAndEvent, i) in sevenDaysAhead" :key="'calendar' + i">
        <div class="text-sm text-gray-500 font-semibold tracking-wide">
          {{ dayAndEvent.day }}
        </div>
        <router-link
          v-if="dayAndEvent.events.length === 0"
          :to="{ name: 'EventsCreate' }"
          class="block py-2 text-xs text-gray-400 hover:text-blue-400"
          >Add event</router-link
        >
        <div
          v-for="(event, idx) in dayAndEvent.events"
          :key="event.id"
          class="my-2 bg-gray-100 ring-2 ring-gray-300 rounded-sm text-blue-600 hover:text-blue-400 cursor-pointer"
        >
          <div
            v-if="idx < 2"
            @click="$router.push({ name: 'Event', params: { slug: event.slug } })"
            class="p-2"
          >
            <div
              class="line-clamp-2 break-words md:text-sm lg:text-base leading-5 md:leading-4 lg:leading-5"
            >
              {{ event.name }}
            </div>
            <div class="text-gray-600 text-sm md:text-xs lg:text-sm pt-0.5">
              {{ event.time }}
            </div>
          </div>
          <div
            v-if="idx === 2"
            @click="$router.push({ name: 'Events' })"
            class="text-gray-400 font-light p-2"
          >
            ...
          </div>
        </div>
      </div>
    </div>

    <div class="text-right leading-none pb-1 sm:pb-0">
      <router-link
        :to="{ name: 'Events' }"
        class="text-xs text-blue-600 hover:text-blue-400"
        >See all &gt;</router-link
      >
    </div>
  </div>
</div>

<!-- Call to action -->
<div
  class="relative overflow-hidden max-w-7xl mx-auto px-5 sm:px-6 lg:px-8 xl:px-2"
>
  <div class="relative z-10 bg-white lg:w-full lg:max-w-2xl mt-6 sm:mt-8">
    <svg
      class="hidden lg:block absolute right-0 inset-y-0 h-full w-48 text-white transform translate-x-1/2"
      fill="currentColor"
      viewBox="0 0 100 100"
      preserveAspectRatio="none"
      aria-hidden="true"
    >
      <polygon points="50,0 100,0 50,100 0,100" />
    </svg>
    <div>
      <h1
        class="text-3xl tracking-tight font-extrabold text-brand-black sm:text-4xl md:text-5xl md:py-4"
      >
        <span class="block">Become a Phits Tech</span>
        <span class="block text-brand-blue-400">Community Hero</span>
      </h1>
      <p
        class="lg:max-w-xl text-gray-500 text-base sm:text-lg md:text-xl mt-3 sm:mt-5 md:mt-5"
      >
          Phits Tech aims to bring together the tech community in or around
          Phitsanulok to share, learn, grow and have fun together. If you are
          organising a meetup, talk, hackathon, or any other type of tech event
          that the community might be interested in then please let us know. Or
          if you have an idea for an event but need help organising then we also
          welcome your submissions.
      </p>
        <p
          class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-left lg:mx-0"
        >
          Phits Tech มุ่งหวังที่จะรวบรวมชุมชนเทคโนโลยีทั้งในและรอบๆพิษณุโลก
          เพื่อแบ่งปัน เรียนรู้ เติบโต และสนุกไปด้วยกัน หากคุณกำลังจัดการประชุม
          การพูดคุย การรวมตัวสมาชิกที่สนใจในเรื่องเดียวกัน
          หรืองานเทคโนโลยีประเภทอื่นๆ ที่ชุมชนอาจสนใจ
          โปรดแจ้งให้เราทราบหรือหากคุณมีความคิดเกี่ยวกับกิจกรรม
          แต่ต้องการความช่วยเหลือในการจัดงานพวกเราก็ยินดีช่วยเหลือคุณ
        </p>
      <div class="mt-5 sm:mt-6 lg:flex sm:justify-end lg:justify-start">
        <div class="rounded-md shadow">
          <a
            href="/events/create"
            class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-brand-blue-600 hover:bg-brand-blue-800 md:py-4 md:text-lg md:px-10"
          >
            Host an event
          </a>
        </div>
      </div>
    </div>
  </div>
  <div
    class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2 mt-6 sm:mt-8 sm:mb-2 md:mt-10"
  >
    <img
      class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full"
      src="@/assets/become-hero.jpg"
      alt="People gathering at a Phits.Tech community event"
    />
  </div>
</div>
